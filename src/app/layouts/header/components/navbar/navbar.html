<header class="topbar">
  <div class="container">
    <div class="contact">
      <span><i class="fa fa-phone-alt"></i> {{contactInfo().phone}}</span>
      <span><i class="fa fa-envelope"></i> {{contactInfo().email}}</span>
    </div>

    <div class="social">
      @for (social of socialNetworks(); track $index) {
        <a [href]="social.url" target="_blank" rel="noopener noreferrer">
          <i [className]="social.icon"></i>
        </a>
      }
    </div>
  </div>
</header>

<nav class="navbar">
  <div class="container">
    <div class="logo">
      <img src="/assets/logo_blanco.png" alt="Samval">
    </div>

    <!-- Menu con traducciones -->
    <ul class="menu">
      @for (item of navigationItems(); track $index) {
        <li>
          <a [href]="item.route">
            {{item.labelKey |transloco}}
          </a>
        </li>
      }
    </ul>


    <div class="language-selector">
      <button
        class="translate-btn"
        (click)="toggleLanguageMenu()"
        [attr.aria-expanded]="languageMenuOpen()"
      >
        <span class="flag">{{ languageService.currentLanguage().flag }}</span>
        <span class="lang-code">{{ languageService.currentLanguage().code | uppercase }}</span>
        <i class="fas fa-chevron-down" [class.rotated]="languageMenuOpen()"></i>
      </button>

      @if (languageMenuOpen()) {
        <div class="language-dropdown">
          @for (lang of languageService.availableLanguages; track lang.code) {
            <button
              class="language-option"
              [class.active]="lang.code === languageService.currentLanguage().code"
              (click)="changeLanguage(lang.code)"
            >
              <span class="flag">{{ lang.flag }}</span>
              <span class="lang-name">{{ lang.nativeName }}</span>
              @if (lang.code === languageService.currentLanguage().code) {
                <i class="fas fa-check"></i>
              }
            </button>
          }
        </div>
      }
    </div>

    <button class="mobile-btn"><i class="fa-solid fa-bars"></i></button>
  </div>
</nav>
